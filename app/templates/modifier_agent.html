{% extends 'base.html' %}
{% from 'macros.html' import render_input %}

{% block content %}

<div class="container my-5">
    <div class="row">
        <div class="col">
            <h1>
                {% if current_user.privilege == 'admin' %}
                    Modification du profil de {{ agent.personne.prenom + " " + agent.personne.nom }}
                {% else %}
                    Modifier profil
                {% endif %}
            </h1>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <form action="{{ url_for('ModifierAgent', id=agent.id) }}" method="post">
                {{ form.hidden_tag() }}

                <div class="mb-3">
                    {{ render_input(form.nom, "Nom") }}
                </div>
                <div class="mb-3">
                    {{ render_input(form.prenom, "Prénom") }}
                </div>
                <div class="mb-3">
                    {{ render_input(form.adresse, "Adresse") }}
                </div>
                <div class="mb-3">
                    {{ render_input(form.tel, "Téléphone") }}
                </div>
                <div class="mb-3">
                    {{ render_input(form.gsm, "GSM") }}
                </div>
                <div class="mb-3">
                    {{ render_input(form.email, "Email") }}
                </div>
                <div class="mb-3">
                    {{ render_input(form.password, "Mot de passe", type="password") }}
                </div>
                <div class="mb-3">
                    {{ render_input(form.confirm_password, "Confirmer mot de passe", type="password") }}
                </div>
                {% if current_user.privilege == 'admin' %}
                    <div class="mb-3">
                        {{ render_input(form.privilege, "Rôle") }}
                    </div>
                {% endif %}
                
                <div class="d-flex justify-content-end">
                    <button type="button" class="btn btn-secondary me-2" onclick="window.history.back()">Annuler</button>
                    <button type="submit" class="btn btn-dark">Enregistrer</button>
                </div>
            </form>
        </div>
    </div>
</div>

{% endblock %}